<script type="text/html" id="display-data-or-default">
    <!-- ko if: DisplayText -->
    <!-- ko if: $data.Link -->
    <p><a data-bind="text: DisplayText, href: DisplayText"></a></p>
    <!-- /ko-->
    <!-- ko ifnot: $data.Link -->
    <p data-bind="text: DisplayText"></p>
    <!-- /ko-->
    <!-- /ko -->
    <!-- ko ifnot: DisplayText -->
    <p><i data-bind="text:'(none specified)'"></i></p>
    <!-- /ko -->
</script>

<script type="text/html" id="display-dependencysets">
    <div data-bind="foreach: {data: DependencySets, as: '_data'}">
        <div data-bind="foreach: {data: Object.keys(_data), as: '_propkey'}">
            <div class="dependency-set-title" data-bind="text: _propkey"></div>
            <div data-bind="foreach: _data[_propkey]">
                <div class="dependency-container col-sm-12">
                    <!-- ko if: $data -->
                    <a class="dependency-id" data-bind="attr: { href: PackageUrl }, text: Id"></a>
                    <span class="dependency-versionspec" data-bind="text: VersionSpec"></span>
                    <!-- /ko -->
                    <!-- ko ifnot: $data -->
                    <span class="dependency-none">No Package Dependencies</span>
                    <!-- /ko -->
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="verify-metadata-template">
    <h2>
        <a href="#" role="button" data-toggle="collapse" data-target="#verify-package-form"
           aria-expanded="true" aria-controls="verify-package-form" id="show-verify-package-form">
            <i class="ms-Icon ms-Icon--ChevronDown" aria-hidden="true"></i>
            <span>Verify</span>
        </a>
    </h2>
    <div data-bind="if: $data" class="col-sm-12 collapse in" id="verify-package-form">
        <div class="verify-package-field-heading">Package ID</div>
        <p data-bind="text: Id"></p>
        <input data-bind="value: Id" type="hidden" name="Id" />

        <div class="verify-package-field-heading">Version</div>
        <p data-bind="text: Version"></p>
        <input data-bind="value: Version" type="hidden" name="Version" />

        <div class="verify-package-field-heading">Minimum NuGet Client Version</div>
        <div data-bind="template: { name: 'display-data-or-default', data: { DisplayText: MinClientVersion }}"></div>
        <input data-bind="value: MinClientVersion" type="hidden" name="MinClientVersion" />

        <div class="verify-package-field-heading">License URL</div>
        <div data-bind="template: { name: 'display-data-or-default', data: { DisplayText: LicenseUrl, Link: true }}"></div>
        <input data-bind="value: LicenseUrl" type="hidden" name="LicenseUrl" />

        <div class="verify-package-field-heading">Language</div>
        <div data-bind="template: { name: 'display-data-or-default', data: { DisplayText: Language }}"></div>
        <input data-bind="value: Language" type="hidden" name="Language" />

        <div class="verify-package-field-heading">Development Dependency</div>
        <div data-bind="template: { name: 'display-data-or-default', data: { DisplayText: DevelopmentDependency }}"></div>
        <input data-bind="value: DevelopmentDependency" type="hidden" name="DevelopmentDependency" />

        <div class="verify-package-field-heading">Dependencies</div>
        <!-- ko if: Dependencies -->
        <div data-bind="template: {name: 'display-dependencysets', data: { DependencySets: Dependencies.DependencySets, OnlyHasAllFrameworks: Dependencies.OnlyHasAllFrameworks }}"></div>
        <!-- /ko -->
        <!-- ko ifnot: Dependencies -->
        <p><i data-bind="text:'(none specified)'"></i></p>
        <!-- /ko -->

        <!--BEGIN EDITABLE FIELDS-->
        <div class="verify-package-field-heading">Title</div>
        <input data-bind="value: Edit.Title" type="text" class="col-xs-12" />

        <div class="verify-package-field-heading">Description</div>
        <textarea data-bind="value: Edit.Description" class="col-xs-12 tall-text-input" />

        <div class="verify-package-field-heading">Summary (shown on package search page)</div>
        <textarea data-bind="value: Edit.Summary" class="col-xs-12 tall-text-input" />

        <div class="verify-package-field-heading">Release Notes (for this version)</div>
        <textarea data-bind="value: Edit.ReleaseNotes" class="col-xs-12 tall-text-input" />

        <div class="verify-package-field-heading">Project URL</div>
        <input data-bind="value: Edit.ProjectUrl" type="text" class="col-xs-12" />

        <!-- Bind an on change event here to update the preview below-->
        <div class="verify-package-field-heading">Icon URL</div>
        <input data-bind="value: Edit.IconUrl" type="text" class="col-xs-12" />

        <div class="verify-package-field-heading">Icon Preview</div>
        <div id="icon-preview-container">
            <!-- ko if: Edit.IconUrl -->
            <img id="icon-preview" data-bind="attr: { src: Edit.IconUrl }" /> <!-- probably need to check this for safety-->
            <!-- /ko -->
            <!-- ko ifnot: Edit.IconUrl -->
            <p><i data-bind="text:'(none specified)'"></i></p>
            <!-- /ko -->
        </div>


        <div class="verify-package-field-heading">Authors (comma separated - e.g. 'Anna, Bob, Carl')</div>
        <input data-bind="value: Edit.Authors" type="text" class="col-xs-12" />

        <div class="verify-package-field-heading">Copyright</div>
        <input data-bind="value: Edit.Copyright" type="text" class="col-xs-12" />

        <div class="verify-package-field-heading">Tags (space separated - e.g. 'ASP.NET Template MVC')</div>
        <input data-bind="value: Edit.Tags" type="text" class="col-xs-12" />

        <input type="button" class="btn btn-default col-md-2 col-xs-6" value="Submit" id="verify-submit" />
        <input type="button" class="btn btn-default col-md-2 col-xs-6" value="Cancel" id="verify-cancel" />
    </div>
</script>